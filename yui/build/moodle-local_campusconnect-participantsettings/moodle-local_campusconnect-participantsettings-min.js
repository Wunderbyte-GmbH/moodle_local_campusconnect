YUI.add("moodle-local_campusconnect-participantsettings",function(i,e){M.local_campusconnect=M.local_campusconnect||{},M.local_campusconnect.participantsettings={participantIdentifiers:[],hasChanges:!1,init:function(){i.all(".participantidentifier").each(function(e){this.participantIdentifiers.push(e.get("value"))},this),i.one("body").delegate("click",function(){this.updateDisabled()},".participantsettings input",this),i.one("body").delegate("click",function(){this.hasChanges=!0},".participantsettings input[type=checkbox]",this),i.one("body").delegate("change",function(){this.hasChanges=!0},".participantsettings select",this),i.all("form").on("submit",function(){this.hasChanges=!1},this);var n=this;window.onbeforeunload=function(e){var t;return n.hasChanges?(t=M.util.get_string("changesmadereallygoaway","moodle"),M.cfg.behatsiterunning?"":(e&&(e.returnValue=t),t)):""},this.updateDisabled()},updateDisabled:function(){for(var e in this.participantIdentifiers)this.participantIdentifiers.hasOwnProperty(e)&&this.updateDisabledForParticipant(this.participantIdentifiers[e])},updateDisabledForParticipant:function(e){var t=i.one("#import_"+e).get("checked"),n=i.one("#export_"+e).get("checked");t?(this.enableCheckbox("importenrolment_"+e,!0),this.enableCheckbox("importtoken_"+e,!0),t=i.one("#importtoken_"+e).get("checked"),this.enableCheckbox("uselegacy_"+e,t)):(this.enableCheckbox("importenrolment_"+e,!1),this.enableCheckbox("importtoken_"+e,!1),this.enableCheckbox("uselegacy_"+e,!1)),n?(this.enableCheckbox("exportenrolment_"+e,!0),this.enableCheckbox("exporttoken_"+e,!0)):(this.enableCheckbox("exportenrolment_"+e,!1),this.enableCheckbox("exporttoken_"+e,!1))},enableCheckbox:function(e,t){var e=i.one("#"+e);e&&(t?e.removeAttribute("disabled"):e.set("disabled",!0),(e=e.next("label"))&&(t?e.removeClass("disabled"):e.addClass("disabled")))}}},"@VERSION@",{requires:["base","node","event","event-valuechange","node-event-delegate"]});