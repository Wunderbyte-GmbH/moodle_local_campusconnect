YUI.add("moodle-local_campusconnect-participantsettings",function(n,e){M.local_campusconnect=M.local_campusconnect||{},M.local_campusconnect.participantsettings={participantIdentifiers:[],hasChanges:!1,init:function(){n.all(".participantidentifier").each(function(e){this.participantIdentifiers.push(e.get("value"))},this),n.one("body").delegate("click",function(){this.updateDisabled()},".participantsettings input",this),n.one("body").delegate("click",function(){this.hasChanges=!0},".participantsettings input[type=checkbox]",this),n.one("body").delegate("change",function(){this.hasChanges=!0},".participantsettings select",this),n.all("form").on("submit",function(){this.hasChanges=!1},this);var i=this;window.onbeforeunload=function(e){var t;return i.hasChanges?(t=M.util.get_string("changesmadereallygoaway","moodle"),M.cfg.behatsiterunning?"":(e&&(e.returnValue=t),t)):""},this.updateDisabled()},updateDisabled:function(){for(var e in this.participantIdentifiers)this.participantIdentifiers.hasOwnProperty(e)&&this.updateDisabledForParticipant(this.participantIdentifiers[e])},updateDisabledForParticipant:function(e){var t,i;console.log("updateDisabledForParticipant"),i=n.one("#import_"+e).get("checked"),t=n.one("#export_"+e).get("checked"),i?(this.enableCheckbox("importenrolment_"+e,!0),this.enableCheckbox("importtoken_"+e,!0),i=n.one("#importtoken_"+e).get("checked"),this.enableCheckbox("uselegacy_"+e,i),this.enableCheckbox("oauth2import_"+e,!0),this.enableCheckbox("shibbolethimport_"+e,!0)):(this.enableCheckbox("importenrolment_"+e,!1),this.enableCheckbox("importtoken_"+e,!1),this.enableCheckbox("uselegacy_"+e,!1),this.enableCheckbox("oauth2import_"+e,!1),this.enableCheckbox("shibbolethimport_"+e,!1)),t?(this.enableCheckbox("exportenrolment_"+e,!0),this.enableCheckbox("exporttoken_"+e,!0),this.enableCheckbox("oauth2export_"+e,!0),this.enableCheckbox("shibbolethexport_"+e,!0)):(this.enableCheckbox("exportenrolment_"+e,!1),this.enableCheckbox("exporttoken_"+e,!1),this.enableCheckbox("oauth2export_"+e,!1),this.enableCheckbox("shibbolethexport_"+e,!1))},enableCheckbox:function(e,t){var e=n.one("#"+e);e&&(t?e.removeAttribute("disabled"):e.set("disabled",!0),(e=e.next("label"))&&(t?e.removeClass("disabled"):e.addClass("disabled")))}}},"@VERSION@",{requires:["base","node","event","event-valuechange","node-event-delegate"]});