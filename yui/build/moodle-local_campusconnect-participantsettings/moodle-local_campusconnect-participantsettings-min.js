YUI.add("moodle-local_campusconnect-participantsettings",function(e,t){M.local_campusconnect=M.local_campusconnect||{},M.local_campusconnect.participantsettings={participantIdentifiers:[],hasChanges:!1,init:function(){e.all(".participantidentifier").each(function(e){this.participantIdentifiers.push(e.get("value"))},this),e.one("body").delegate("click",function(){this.updateDisabled()},".participantsettings input",this),e.one("body").delegate("click",function(){this.hasChanges=!0},".participantsettings input[type=checkbox]",this),e.one("body").delegate("change",function(){this.hasChanges=!0},".participantsettings select",this),e.all("form").on("submit",function(){this.hasChanges=!1},this);var t=this;window.onbeforeunload=function(e){if(t.hasChanges){var n=M.util.get_string("changesmadereallygoaway","moodle");if(M.cfg.behatsiterunning)return;return e&&(e.returnValue=n),n}},this.updateDisabled()},updateDisabled:function(){var e;for(e in this.participantIdentifiers)this.participantIdentifiers.hasOwnProperty(e)&&this.updateDisabledForParticipant(this.participantIdentifiers[e])},updateDisabledForParticipant:function(t){var n,r,i;n=e.one("#import_"+t).get("checked"),r=e.one("#export_"+t).get("checked"),n?(this.enableCheckbox("importenrolment_"+t,!0),this.enableCheckbox("importtoken_"+t,!0),i=e.one("#importtoken_"+t).get("checked"),this.enableCheckbox("uselegacy_"+t,i)):(this.enableCheckbox("importenrolment_"+t,!1),this.enableCheckbox("importtoken_"+t,!1),this.enableCheckbox("uselegacy_"+t,!1)),r?(this.enableCheckbox("exportenrolment_"+t,!0),this.enableCheckbox("exporttoken_"+t,!0)):(this.enableCheckbox("exportenrolment_"+t,!1),this.enableCheckbox("exporttoken_"+t,!1))},enableCheckbox:function(t,n){var r,i;r=e.one("#"+t),r&&(n?r.removeAttribute("disabled"):r.set("disabled",!0),i=r.next("label"),i&&(n?i.removeClass("disabled"):i.addClass("disabled")))}}},"@VERSION@",{requires:["base","node","event","event-valuechange","node-event-delegate"]});
